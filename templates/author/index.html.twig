{# {% extends 'base.html.twig' %}

{% block title %}Authors List
{% endblock %}

{% block body %}

	<div class="container">
		<div class="row justify-content-center">
			<div class="col-md-8">
				<div class="card">
					<div class="card-header">
						<h1>Authors in Library ✅</h1>
					</div>
					<div class="card-body">
						List order by:

						<form action="{{ path('author_index')}}" method="GET" class="sort-form	">
							<div class="form-group">
								<select name="sort_by" class="form-control">
									<option value="default">default</option>
									<option value="sort_by_name_asc" {% if sortBy=='sort_by_name_asc' %} selected {% endif %}>name a-z</option>
									<option value="sort_by_name_desc"  {% if sortBy=='sort_by_name_desc' %} selected {% endif %}>name z-a</option>
									<option value="sort_by_surname_asc"{% if sortBy=='sort_by_surname_asc' %} selected {% endif %}>surname a-z</option>
									<option value="sort_by_surname_desc"  {% if sortBy=='sort_by_surname_desc' %} selected {% endif %}>surname z-a</option>
								</select>
							</div>
							<button type="submit" class="btn btn-dark">Sort IT!</button>
							<a href="{{ path('author_index')}}">CLEAR</a>
						</form>
						
						<ul class="list-group">
							{% for author in authors %}
								<li class="list-group-item">
									<div class="list-group-item__line">
										<span>
											{{author.name}}
											{{author.surname}}
										</span>
										<div class="list-group-item__line__buttons">
											<a href="{{ path('author_edit', {id: author.id}) }}" class="btn btn-success">EDIT</a>
											<form action="{{ path('author_delete', {id: author.id}) }}" method="POST">
                                                <input type="hidden" name="token" value="{{ csrf_token('create_author_hidden_index') }}"/>
												<button type="submit" class="btn btn-danger">DELETE</button>
											</form>
										</div>
									</div>
									<h4>
										<span class="badge badge-secondary">Author books</span>
									</h4>
									<ul class="list-group">

										{% for book in author.books %}
											<li class="list-group-item">{{book.title}}</li>
										{% endfor %}
									</ul>
								</li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>


{% endblock %} #}



{% extends 'base.html.twig' %}

{% block title %}Authors List{% endblock %}

{% block body %}

<div class="container">
   <div class="row justify-content-center">
       <div class="col-md-8">
           <div class="card">
               <div class="card-header"></div>

               <div class="card-body">
                 BLADE TURINYS
               </div>
           </div>
       </div>
   </div>
</div>

    <h1>Authors in Library ✅</h1>
    <i class="fab fa-symfony"></i>
    <i class="fa fa-heart"></i>
    <i class="fas fa-star"></i> <p>List:<i class="fa fa-trash"></i></p>
    <table>
        <tr>
            <th>Sort By</th>
            <th>Drop Sorting</th>
        </tr>
        <tr>
            <td>
                <form action="{{ path('author_index')}}" method="GET">
                    <select name="sort_by">
                        <option value="default" {% if sortBy == 'default'%}selected{% endif %}>default</option>
                        <option value="sort_by_name_asc" {% if sortBy == 'sort_by_name_asc' %} selected {% endif %}>name a-z</option>
                        <option value="sort_by_name_desc" {% if sortBy == 'sort_by_name_desc' %} selected {% endif %}>name z-a</option>
                        <option value="sort_by_surname_asc" {% if sortBy == 'sort_by_surname_asc' %} selected {% endif %}>surname a-z</option>
                        <option value="sort_by_surname_desc" {% if sortBy == 'sort_by_name_desc' %} selected {% endif %}>surname z-a</option>
                    </select>
                    <button type="submit">Sort IT!</button>
                </form>
            </td>
            <td>
                <a href="{{path('author_index')}}"> x</a>
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <th>Firstname</th>
            <th>Surnname</th>
            <th>Modify data</th>
            <th>Delete data</th>
        </tr>
    {% for author in authors %}
        <tr>
            <td>{{author.name}}</td>
            <td>{{author.surname}} </td>
            <td><a href="{{ path('author_edit', {id: author.id}) }}">EDIT</a></td>
            <td>
                <form action="{{ path('author_delete', {id: author.id}) }}" method="POST">
                    <input type="hidden" name="token" value="{{ csrf_token('create_author_hidden_index') }}"/>
                    <button type="submit">DELETE</button>
                </form>
            </td>
        </tr>
    {% endfor %} 
    </table>
{% endblock %}
